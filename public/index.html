<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Keynova API â€“ Ø§Ù„Ù‚ÙÙ„ Ø§Ù„Ø¥Ø¯Ø±Ø§ÙƒÙŠ</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #0d0d0d;
        color: #fff;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    header {
        padding: 60px 20px;
        background: linear-gradient(135deg, #4b0082, #000);
    }
    h1 {
        font-size: 40px;
        margin-bottom: 10px;
    }
    p {
        font-size: 18px;
        opacity: 0.9;
    }
    .container {
        margin: 40px auto;
        max-width: 600px;
        background: #111;
        padding: 25px;
        border-radius: 12px;
        border: 1px solid #333;
    }
    select, input, textarea {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        border-radius: 8px;
        border: none;
        background: #222;
        color: #fff;
    }
    button {
        padding: 12px 25px;
        background: #6a0dad;
        border: none;
        color: #fff;
        font-size: 18px;
        border-radius: 8px;
        cursor: pointer;
        margin-top: 10px;
    }
    button:hover {
        background: #520a9e;
    }
    .result {
        margin-top: 20px;
        background: #1a1a1a;
        padding: 15px;
        border-radius: 10px;
        font-size: 14px;
        word-wrap: break-word;
        text-align: left;
        direction: ltr;
    }
</style>
</head>
<body>

<header>
    <h1>Keynova API</h1>
    <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙÙ„ Ø§Ù„Ø¥Ø¯Ø±Ø§ÙƒÙŠ â€“ ØµÙˆØ±Ø© Ø«Ø§Ø¨ØªØ© + ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± = Ù…ÙØªØ§Ø­ ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ÙƒØ³Ø±</p>
</header>

<!-- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙØªØ§Ø­ -->
<div class="container">
    <h2>ğŸ” ØªØ¬Ø±Ø¨Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­</h2>

    <label>Ø§Ø®ØªØ± ØµÙˆØ±Ø©:</label>
    <select id="imageURL"></select>

    <input type="text" id="passwordInput" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">

    <button onclick="generateKey()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙØªØ§Ø­</button>

    <div id="generateResult" class="result"></div>
</div>

<!-- Ø§Ù„ØªØ­Ù‚Ù‚ -->
<div class="container">
    <h2>ğŸ§ª ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­</h2>

    <label>Ø§Ø®ØªØ± Ù†ÙØ³ Ø§Ù„ØµÙˆØ±Ø©:</label>
    <select id="verifyImageURL"></select>

    <input type="text" id="verifyPassword" placeholder="Ø£Ø¯Ø®Ù„ Ù†ÙØ³ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <textarea id="verifyFinalKey" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù‡Ù†Ø§"></textarea>

    <button onclick="verifyKey()">ØªØ­Ù‚Ù‚ Ø§Ù„Ø¢Ù†</button>

    <div id="verifyResult" class="result"></div>
</div>

<script>
/* Ø±Ø§Ø¨Ø· API */
const API_BASE = "https://keynova-api.vercel.app";

/* Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø·Ù„Ù‚ */
const BASE = "https://keynova-api.vercel.app";

/* Ù…ÙƒØªØ¨Ø© Ø§Ù„ØµÙˆØ± */
const naturalImages = [
  { url: `${BASE}/images/image1.jpeg`,  name: "ØµÙˆØ±Ø© 1" },
  { url: `${BASE}/images/image2.jpeg`,  name: "ØµÙˆØ±Ø© 2" },
  { url: `${BASE}/images/image3.jpeg`,  name: "ØµÙˆØ±Ø© 3" },
  { url: `${BASE}/images/image4.jpeg`,  name: "ØµÙˆØ±Ø© 4" },
  { url: `${BASE}/images/image5.jpeg`,  name: "ØµÙˆØ±Ø© 5" },
  { url: `${BASE}/images/image6.jpeg`,  name: "ØµÙˆØ±Ø© 6" },
  { url: `${BASE}/images/image7.jpeg`,  name: "ØµÙˆØ±Ø© 7" },
  { url: `${BASE}/images/image8.jpeg`,  name: "ØµÙˆØ±Ø© 8" },
  { url: `${BASE}/images/image9.jpeg`,  name: "ØµÙˆØ±Ø© 9" },
  { url: `${BASE}/images/image10.jpeg`, name: "ØµÙˆØ±Ø© 10" },
  { url: `${BASE}/images/image11.jpeg`, name: "ØµÙˆØ±Ø© 11" },
  { url: `${BASE}/images/image12.jpeg`, name: "ØµÙˆØ±Ø© 12" },
  { url: `${BASE}/images/image13.jpeg`, name: "ØµÙˆØ±Ø© 13" },
  { url: `${BASE}/images/image14.jpeg`, name: "ØµÙˆØ±Ø© 14" },
  { url: `${BASE}/images/image15.jpeg`, name: "ØµÙˆØ±Ø© 15" },
  { url: `${BASE}/images/image16.jpeg`, name: "ØµÙˆØ±Ø© 16" },
  { url: `${BASE}/images/image17.jpeg`, name: "ØµÙˆØ±Ø© 17" },
  { url: `${BASE}/images/image18.jpeg`, name: "ØµÙˆØ±Ø© 18" },
  { url: `${BASE}/images/image19.jpeg`, name: "ØµÙˆØ±Ø© 19" },
  { url: `${BASE}/images/image20.jpeg`, name: "ØµÙˆØ±Ø© 20" },
  { url: `${BASE}/images/image21.jpeg`, name: "ØµÙˆØ±Ø© 21" },
  { url: `${BASE}/images/image22.jpeg`, name: "ØµÙˆØ±Ø© 22" },
  { url: `${BASE}/images/image23.jpeg`, name: "ØµÙˆØ±Ø© 23" },
  { url: `${BASE}/images/image24.jpeg`, name: "ØµÙˆØ±Ø© 24" }
];

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ± ÙÙŠ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */
function loadImages() {
    const select1 = document.getElementById("imageURL");
    const select2 = document.getElementById("verifyImageURL");

    naturalImages.forEach(img => {
        const option1 = document.createElement("option");
        option1.value = img.url;
        option1.textContent = img.name;
        select1.appendChild(option1);

        const option2 = document.createElement("option");
        option2.value = img.url;
        option2.textContent = img.name;
        select2.appendChild(option2);
    });
}
loadImages();

/* Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙØªØ§Ø­ */
async function generateKey() {
    const imageURL = document.getElementById("imageURL").value;
    const password = document.getElementById("passwordInput").value.trim();

    if (!imageURL || !password) {
        document.getElementById("generateResult").innerText = "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© ÙˆØ¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±.";
        return;
    }

    const res = await fetch(`${API_BASE}/api/generate-key`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ imageURL, password })
    });

    const data = await res.json();
    document.getElementById("generateResult").innerText = JSON.stringify(data, null, 2);
}

/* Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­ */
async function verifyKey() {
    const imageURL = document.getElementById("verifyImageURL").value;
    const password = document.getElementById("verifyPassword").value.trim();
    const finalKey = document.getElementById("verifyFinalKey").value.trim();

    if (!imageURL || !password || !finalKey) {
        document.getElementById("verifyResult").innerText = "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙØ³ Ø§Ù„ØµÙˆØ±Ø©ØŒ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ù†ÙØ³ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŒ ÙˆÙ„ØµÙ‚ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.";
        return;
    }

    const res = await fetch(`${API_BASE}/api/verify-key`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ imageURL, password, finalKey })
    });

    const data = await res.json();
    document.getElementById("verifyResult").innerText = JSON.stringify(data, null, 2);
}
</script>

</body>
</html>
